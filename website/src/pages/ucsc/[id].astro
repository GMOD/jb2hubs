---
import Layout from '../../layouts/Layout.astro';
import Container from '../../components/Container.astro';
import StyledLink from '../../components/ui/StyledLink.astro';
import UL from '../../components/ui/UL.astro';
import LI from '../../components/ui/LI.astro';
import H1 from '../../components/ui/H1.astro';
import H2 from '../../components/ui/H2.astro';
import list from '../../list.json';

export async function getStaticPaths() {
  return Object.keys(list.ucscGenomes).map((id) => ({
    params: { id },
    props: { ret: list.ucscGenomes[id] },
  }));
}

const { id } = Astro.params;
const { ret } = Astro.props;

const title = id;
---

<Layout title={title}>
  <Container>
    <div class="relative">
      <H1>{ret.scientificName}</H1>

      <div>
        <b>Description:</b> {ret.description}
      </div>
      <div>
        <b>Assembly name:</b> {id}
      </div>
      <div>
        <b>Common name:</b> {ret.organism}
      </div>
    </div>

    <div>
      <H2>Genome browsers</H2>
      <UL>
        <LI>
          <StyledLink
            href={`https://jbrowse.org/code/jb2/main/?config=https://jbrowse.org/ucsc/${id}/config.json`}
          >
            JBrowse
          </StyledLink>
        </LI>
        <LI>
          <StyledLink
            href={`https://genome.ucsc.edu/cgi-bin/hgTracks?db=${id}`}
          >
            UCSC
          </StyledLink>
        </LI>
      </UL>
    </div>

    <div>
      <H2>Portals/data downloads</H2>
      <UL>
        <LI>
          <StyledLink
            href={`https://genome.ucsc.edu/cgi-bin/hgGateway?db=${id}`}
          >
            UCSC assembly info
          </StyledLink>
        </LI>
      </UL>
    </div>
  </Container>
</Layout>
